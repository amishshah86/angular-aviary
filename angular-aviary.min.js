/*
	angular-aviary v0.5.1
	(c) 2016 Massimiliano Sartoretto <massimilianosartoretto@gmail.com> 
	License: MIT 
*/

"format amd";!function(){"use strict";function a(a,Aviary){function b(b){return{restrict:"A",scope:{targetSelector:"@",targetSrc:"@",onSave:"&",onError:"&",onClose:"&",onSaveButtonClicked:"&"},link:function(c,d){function e(){return l.launch({image:j,url:c.targetSrc||j.src}),!1}function f(imageID){(c.onSaveButtonClicked||a.noop)({id:imageID})}function g(imageID,newURL){(c.onSave||a.noop)({id:imageID,newURL:newURL}),(c.closeOnSave||b.configuration.closeOnSave)&&l.close()}function h(b){(c.onError||a.noop)({error:b})}function i(b){(c.onClose||a.noop)({isDirty:b})}var j=window.document.querySelector(c.targetSelector);d.bind("click",function(a){return a.preventDefault(),e()});var k={onSaveButtonClicked:f,onSave:g,onError:h,onClose:i},l=new Aviary.Feather(a.extend({},b.configuration,k));c.$on("$destroy",function(){l&&l.close()})}}}function c(){var b,c={apiKey:null},d=["apiKey"];this.configure=function(e){if(b)throw new Error("Already configured.");if(!(e instanceof Object))throw new TypeError("Invalid argument: `config` must be an `Object`.");return b=a.extend({},c,e),a.forEach(d,function(a){if(!b[a])throw new Error("Missing parameter:",a)}),b},this.$get=function(){if(!b)throw new Error("ngAviary must be configured first.");var a=function(){return b}();return{configuration:a}}}return a.module("ngAviary",[]).directive("ngAviary",["ngAviary",b]).provider("ngAviary",c)}"function"==typeof define&&define.amd?define(["angular","Aviary"],a):"undefined"!=typeof module&&module&&module.exports?(a(require("angular"),window.Aviary),module.exports="ngAviary"):a(angular,("undefined"!=typeof global?global:window).Aviary)}();
//# sourceMappingURL=angular-aviary.min.js.map